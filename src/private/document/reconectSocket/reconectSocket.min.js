var socket=io();(()=>{function e(){setTimeout(async o=>{try{alarm.info("Intentando reconectar...");if(!(await query.get("/socket.io/socket.io.js")).ok)return e();window.location.reload()}catch{e()}},1e3)}let o=new Promise(e=>{socket.on("connect",()=>e())}),n=()=>new Promise((e,o)=>{let r=setTimeout(e=>n()&&o(),200);socket.emit("connected",o=>{alarm.success("Conexi\xf3n establecida"),clearTimeout(r),e()})});document.addEventListener("DOMContentLoaded",async()=>{socket.on("disconnect",()=>{alarm.error("Desconectado..."),e()}),socket.on("disconnecting",()=>{alarm.error("Desconectando..."),e()}),socket.on("error",()=>{alarm.error("Error..."),e()}),socket.on("reconnect_attempt",()=>{alarm.error("Intento de reconexi\xf3n..."),e()}),socket.on("reconnect_error",o=>{alarm.error("Error de reconexi\xf3n... "),e()}),socket.on("reconnect_failed",()=>{alarm.error("Error al volver a conectar..."),e()}),await o,n()})})();