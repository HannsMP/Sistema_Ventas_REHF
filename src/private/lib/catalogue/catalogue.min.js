(()=>{class t extends Map{#a=[];#b=0;#c=0;constructor(t,e,a=[],i=20){super(),this.factoryCallback=e,this.#b=i,t.classList.add("catalogue-content"),t.innerHTML=`<div class="catalogue-footer"><div class="catalogue-details"><span class="paginator-length"></span><span class="paginator-show"></span></div><div class="catalogue-paginator"></div></div><div class="catalogue-grid"></div>`,this.catalogoBox=t,this.catalogoGrid=t.querySelector(".catalogue-grid"),this.paginatorLength=t.querySelector(".paginator-length"),this.paginatorShow=t.querySelector(".paginator-show"),this.catalogoPaginator=t.querySelector(".catalogue-paginator"),a.forEach(t=>this.set(t.id,{...t})),a.length&&this.reset()}set(t,e){t=String(t),super.set(t,e)}get(t){return t=String(t),super.get(t)}has(t){return t=String(t),super.has(t)}delete(t){return t=String(t),super.delete(t)}reset(){this.#a=[...super.keys()],this.draw(0)}filter(t){this.#a=[],t&&(this.forEach((e,a)=>{t(e)&&this.#a.push(a)}),this.draw(0))}draw(t){let e=Math.ceil(this.#a.length/this.#b);t<0?this.#c=0:e<t?this.#c=e:this.#c=t,this.catalogoGrid.innerHTML="",this.#d(),this.#e()}#d(){let e=this.#b*this.#c,a=e+this.#b;if(this.#a.length<e)return;let i=this.#a.slice(e,a).filter(t=>this.has(t)),s=0;i.forEach(t=>{let e=this.get(t),a=document.createElement("div");a.classList.add("product-box"),a.dataset.id=t,a.innerHTML=this.factoryCallback(e),this.catalogoGrid.append(a),s++}),this.paginatorLength.innerText=`Mostrando de ${e+1} a ${e+s}, de ${this.size} entradas`,this.paginatorShow.innerText=`Visibles ${s}`}#e(){let r=this.size;if(0===r){this.catalogoGrid.innerHTML="",this.paginatorLength.innerText="No hay productos disponibles",this.paginatorShow.innerText="0";return}let n=Math.ceil(this.#a.length/this.#b);this.catalogoPaginator.innerHTML="",this.catalogoPaginator.append(this.#f("Primero",()=>this.draw(0),0===this.#c)),this.catalogoPaginator.append(this.#f("Anterior",()=>this.draw(this.#c-1),0===this.#c));for(let h=Math.max(0,this.#c-2);h<=Math.min(n-1,this.#c+2);h++){let o=this.#f(h+1,()=>this.draw(h),h===this.#c);h===this.#c&&o.classList.add("active"),this.catalogoPaginator.append(o)}this.catalogoPaginator.append(this.#f("Siguiente",()=>this.draw(this.#c+1),this.#c===n-1)),this.catalogoPaginator.append(this.#f("\xdaltimo",()=>this.draw(n-1),this.#c===n-1))}#f(c,u,l=!1){let g=document.createElement("button");return g.className="pag",g.innerText=c,g.disabled=l,g.addEventListener("click",u),g}}window.Catalogue=t})();