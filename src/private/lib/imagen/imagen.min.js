(()=>{class e{files=[];#a=document.createElement("a");#b=void 0;#c=document.createElement("a");constructor(e){this.input=e,e.style.display="none",this.imgBox=document.createElement("section"),this.imgBox.classList.add("img-box","bx","bx-image"),this.isDisabled=e.hasAttribute("disabled"),this.isDisabled?this.input.parentNode.append(this.imgBox):(this.upload=document.createElement("div"),this.upload.classList.add("upload"),this.upload.innerHTML=`<span>Subir (${e.accept})</span>`,this.input.addEventListener("change",()=>this.create()),this.upload.addEventListener("click",()=>this.input.click()),this.input.parentNode.append(this.imgBox,this.upload)),this.#a.innerHTML="<i class='bx bx-left-arrow-circle'></i>",this.#a.classList.add("before"),this.#a.addEventListener("click",e=>this.#d(e)),this.#c.innerHTML="<i class='bx bx-right-arrow-circle'></i>",this.#c.classList.add("after"),this.#c.addEventListener("click",e=>this.#e(e)),document.addEventListener("keydown",({key:e})=>{if(this.#b&&"Escape"==e)return this.#b.click()});let t=this.input.getAttribute("value");t&&this.charge(t)}#f(t){this.#c.classList.toggle("dis",!t.nextElementSibling),this.#a.classList.toggle("dis",!t.previousElementSibling)}#d(i){if(this.#b){let s=this.#b.previousElementSibling;if(s){let l=s.querySelector("img");s.classList.add("full-screen"),this.#b.classList.remove("full-screen"),l.after(this.#c),l.before(this.#a),this.#c.style.display="",this.#a.style.display="",this.#b=s,this.#f(s)}}i?.stopPropagation()}#e(a){if(this.#b){let n=this.#b.nextElementSibling;if(n){let r=n.querySelector("img");n.classList.add("full-screen"),this.#b.classList.remove("full-screen"),r.after(this.#c),r.before(this.#a),this.#c.style.display="",this.#a.style.display="",this.#b=n,this.#f(n)}}a?.stopPropagation()}#g(c,d){return c.classList.contains("full-screen")?(c.classList.remove("full-screen"),this.#b=void 0):(c.classList.add("full-screen"),this.#b=c)}create(){let e=this.input.files[0];if(e){let t=new FileReader;return t.onload=t=>{this.imgBox.innerHTML="";let i=document.createElement("div");i.classList.add("img","upload");let s=document.createElement("img");e.src=s.src=t.target.result,i.addEventListener("click",()=>this.#g(i,s));let l=document.createElement("a");l.innerHTML="<i class='bx bx-x'></i>",l.classList.add("close"),l.addEventListener("click",()=>{this.files=this.files.filter(t=>t!=e),i.remove()}),i.append(s,l),this.imgBox.append(i)},t.readAsDataURL(e),this.files[0]=e}}empty(){this.files=[],this.imgBox.innerHTML=""}charge(e){this.imgBox.innerHTML="";let t=document.createElement("div");t.classList.add("img","charge");let i=document.createElement("img");if(i.src=e,t.addEventListener("click",()=>this.#g(t,i)),this.isDisabled)t.append(i);else{let s=document.createElement("a");s.innerHTML="<i class='bx bx-x'></i>",s.classList.add("close"),s.addEventListener("click",()=>t.remove()),t.append(i,s)}this.imgBox.append(t)}}window.ImagenUnic=e;class o{files=[];#a=document.createElement("a");#b=void 0;#c=document.createElement("a");constructor(e){this.input=e,e.style.display="none",this.imgBox=document.createElement("section"),this.imgBox.classList.add("img-box","bx","bx-image"),this.isDisabled=e.hasAttribute("disabled"),this.isDisabled?this.input.parentNode.append(this.imgBox):(this.upload=document.createElement("div"),this.upload.classList.add("upload"),this.upload.innerHTML=`<span>Subir (${e.accept})</span>`,this.input.addEventListener("change",()=>this.create()),this.upload.addEventListener("click",()=>this.input.click()),this.input.parentNode.append(this.imgBox,this.upload)),this.#a.innerHTML="<i class='bx bx-left-arrow-circle'></i>",this.#a.classList.add("before"),this.#a.addEventListener("click",e=>this.#d(e)),this.#c.innerHTML="<i class='bx bx-right-arrow-circle'></i>",this.#c.classList.add("after"),this.#c.addEventListener("click",e=>this.#e(e)),document.addEventListener("keydown",({key:e})=>{if(this.#b){if("ArrowLeft"==e)return this.#d();if("ArrowRight"==e)return this.#e();if("Escape"==e)return this.#b.click()}}),document.addEventListener("keydown",({key:e})=>{if(this.#b&&"Escape"==e)return this.#b.click()});let t=this.input.getAttribute("value");if(t){let i=JSON.parse(t);"Array"==i.constructor.name&&i.forEach(e=>this.charge(e))}}#f(h){this.#c.classList.toggle("dis",!h.nextElementSibling),this.#a.classList.toggle("dis",!h.previousElementSibling)}#d(f){if(this.#b){let p=this.#b.previousElementSibling;if(p){let u=p.querySelector("img");p.classList.add("full-screen"),this.#b.classList.remove("full-screen"),u.after(this.#c),u.before(this.#a),this.#c.style.display="",this.#a.style.display="",this.#b=p,this.#f(p)}}f?.stopPropagation()}#e(m){if(this.#b){let b=this.#b.nextElementSibling;if(b){let L=b.querySelector("img");b.classList.add("full-screen"),this.#b.classList.remove("full-screen"),L.after(this.#c),L.before(this.#a),this.#c.style.display="",this.#a.style.display="",this.#b=b,this.#f(b)}}m?.stopPropagation()}#g(g,E){g.classList.contains("full-screen")?(g.classList.remove("full-screen"),this.#c.style.display="none",this.#a.style.display="none",this.#b=void 0):(g.classList.add("full-screen"),this.#c.style.display="",this.#a.style.display="",E.after(this.#c),E.before(this.#a),this.#b=g,this.#f(g))}create(){let e=this.input.files[0];if(e){let t=new FileReader;t.onload=t=>{let i=document.createElement("div");i.classList.add("img","upload");let s=document.createElement("img");e.src=s.src=t.target.result,i.addEventListener("click",()=>this.#g(i,s));let l=document.createElement("a");l.innerHTML="<i class='bx bx-x'></i>",l.classList.add("close"),l.addEventListener("click",()=>{this.files=this.files.filter(t=>t!=e),i.remove()}),i.append(s,l),this.imgBox.append(i)},t.readAsDataURL(e),this.files.push(e)}}empty(){this.files=[],this.imgBox.innerHTML=""}charge(e){let t=document.createElement("div");t.classList.add("img","charge");let i=document.createElement("img");if(i.src=e,t.addEventListener("click",()=>this.#g(t,i)),this.isDisabled)t.append(i);else{let s=document.createElement("a");s.innerHTML="<i class='bx bx-x'></i>",s.classList.add("close"),s.addEventListener("click",()=>t.remove()),t.append(i,s)}this.imgBox.append(t)}}window.ImagenMulti=o})();