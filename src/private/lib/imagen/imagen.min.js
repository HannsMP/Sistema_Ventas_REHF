class ImagenUnic{#a=void 0;files=[];constructor(e){this.input=e,e.style.display="none",this.imgBox=document.createElement("section"),this.imgBox.classList.add("img-box","bx","bx-image"),this.isDisabled=e.hasAttribute("disabled"),this.upload=document.createElement("div"),this.upload.classList.add("upload"),this.upload.innerHTML=`<span>Subir (${e.accept})</span>`,this.upload.addEventListener("click",()=>this.input.click()),this.input.addEventListener("change",()=>this.create()),this.isDisabled?this.input.parentNode.append(this.imgBox):this.input.parentNode.append(this.imgBox,this.upload),document.addEventListener("keydown",({key:e})=>{if(this.#a&&"Escape"==e)return this.#a.click()});let t=this.input.getAttribute("value");t&&this.charge(t);let i=this.input.getAttribute("default");i&&(this.imgBox.style.backgroundImage=`url(${i})`)}state(e){e?(this.input.parentNode.append(this.upload),this.input.setAttribute("disabled","")):(this.upload.remove(),this.input.removeAttribute("disabled")),this.isDisabled=!e}#b(e,t){return e.classList.contains("full-screen")?(e.classList.remove("full-screen"),this.#a=void 0):(e.classList.add("full-screen"),this.#a=e)}create(){let e=this.input.files[0];if(e){let t=new FileReader;return t.onload=t=>{this.imgBox.innerHTML="";let i=document.createElement("div");i.classList.add("img","upload");let s=document.createElement("img");e.src=s.src=t.target.result,i.addEventListener("click",()=>this.#b(i,s));let a=document.createElement("a");a.innerHTML="<i class='bx bx-x'></i>",a.classList.add("close"),a.addEventListener("click",()=>{this.files=this.files.filter(t=>t!=e),i.remove()}),i.append(s,a),this.imgBox.append(i)},t.readAsDataURL(e),this.files[0]=e}}empty(){this.files=[],this.imgBox.innerHTML=""}charge(e){this.imgBox.innerHTML="";let t=document.createElement("div");t.classList.add("img","charge");let i=document.createElement("img");if(i.src=e,t.addEventListener("click",()=>this.#b(t,i)),this.isDisabled)t.append(i);else{let s=document.createElement("a");s.innerHTML="<i class='bx bx-x'></i>",s.classList.add("close"),s.addEventListener("click",()=>t.remove()),t.append(i,s)}this.imgBox.append(t)}}class ImagenMulti{files=[];#c=document.createElement("a");#a=void 0;#d=document.createElement("a");constructor(e){this.input=e,e.style.display="none",this.imgBox=document.createElement("section"),this.imgBox.classList.add("img-box","bx","bx-image"),this.isDisabled=e.hasAttribute("disabled"),this.upload=document.createElement("div"),this.upload.classList.add("upload"),this.upload.innerHTML=`<span>Subir (${e.accept})</span>`,this.upload.addEventListener("click",()=>this.input.click()),this.input.addEventListener("change",()=>this.create()),this.isDisabled?this.input.parentNode.append(this.imgBox):this.input.parentNode.append(this.imgBox,this.upload),this.#c.innerHTML="<i class='bx bx-left-arrow-circle'></i>",this.#c.classList.add("before"),this.#c.addEventListener("click",e=>this.#e(e)),this.#d.innerHTML="<i class='bx bx-right-arrow-circle'></i>",this.#d.classList.add("after"),this.#d.addEventListener("click",e=>this.#f(e)),document.addEventListener("keydown",({key:e})=>{if(this.#a){if("ArrowLeft"==e)return this.#e();if("ArrowRight"==e)return this.#f();if("Escape"==e)return this.#a.click()}}),document.addEventListener("keydown",({key:e})=>{if(this.#a&&"Escape"==e)return this.#a.click()});let t=this.input.getAttribute("value");if(t){let i=JSON.parse(t);"Array"==i.constructor.name&&i.forEach(e=>this.charge(e))}}state(e){e?(this.input.parentNode.append(this.upload),this.input.setAttribute("disabled","")):(this.upload.remove(),this.input.removeAttribute("disabled")),this.isDisabled=!e}#g(i){this.#d.classList.toggle("dis",!i.nextElementSibling),this.#c.classList.toggle("dis",!i.previousElementSibling)}#e(s){if(this.#a){let a=this.#a.previousElementSibling;if(a){let l=a.querySelector("img");a.classList.add("full-screen"),this.#a.classList.remove("full-screen"),l.after(this.#d),l.before(this.#c),this.#d.style.display="",this.#c.style.display="",this.#a=a,this.#g(a)}}s?.stopPropagation()}#f(n){if(this.#a){let r=this.#a.nextElementSibling;if(r){let d=r.querySelector("img");r.classList.add("full-screen"),this.#a.classList.remove("full-screen"),d.after(this.#d),d.before(this.#c),this.#d.style.display="",this.#c.style.display="",this.#a=r,this.#g(r)}}n?.stopPropagation()}#b(c,h){c.classList.contains("full-screen")?(c.classList.remove("full-screen"),this.#d.style.display="none",this.#c.style.display="none",this.#a=void 0):(c.classList.add("full-screen"),this.#d.style.display="",this.#c.style.display="",h.after(this.#d),h.before(this.#c),this.#a=c,this.#g(c))}create(){let e=this.input.files[0];if(e){let t=new FileReader;t.onload=t=>{let i=document.createElement("div");i.classList.add("img","upload");let s=document.createElement("img");e.src=s.src=t.target.result,i.addEventListener("click",()=>this.#b(i,s));let a=document.createElement("a");a.innerHTML="<i class='bx bx-x'></i>",a.classList.add("close"),a.addEventListener("click",()=>{this.files=this.files.filter(t=>t!=e),i.remove()}),i.append(s,a),this.imgBox.append(i)},t.readAsDataURL(e),this.files.push(e)}}empty(){this.files=[],this.imgBox.innerHTML=""}charge(e){let t=document.createElement("div");t.classList.add("img","charge");let i=document.createElement("img");if(i.src=e,t.addEventListener("click",()=>this.#b(t,i)),this.isDisabled)t.append(i);else{let s=document.createElement("a");s.innerHTML="<i class='bx bx-x'></i>",s.classList.add("close"),s.addEventListener("click",()=>t.remove()),t.append(i,s)}this.imgBox.append(t)}}