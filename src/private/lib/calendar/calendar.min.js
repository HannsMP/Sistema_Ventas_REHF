(()=>{class t{#a={};emit(t,...e){if("string"!=typeof t)throw TypeError('El nombre de emit debe ser un "string"');let s=this.#a[t];s?.length&&(this.#a[t]=s.filter(t=>(t.callback(...e),!t.once)))}on(t,e,s=!1){if("string"!=typeof t)throw TypeError('El nombre del evento debe ser un "string"');if("function"!=typeof e)throw TypeError('El callback del evento debe ser una "funcion"');this.#a[t]||(this.#a[t]=[]),this.#a[t].push({callback:e,once:s})}off(t,e){if("string"!=typeof t)throw TypeError('El nombre del evento debe ser un "string"');if("function"!=typeof e)throw TypeError('El eventFun del evento debe ser una "funcion"');let s=this.#a[t];s?.length&&(s=s.filter(t=>t!=e))}empty(t){if("string"!=typeof t)throw TypeError('El nombre de remove debe ser un "string"');this.#a[t]&&delete this.#a[t]}}class e extends t{optionMonth=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];data=[];matriz=[];#b;#c;#d;#e;#f;#g=[];constructor(t,e=["L","M","X","J","V","S","D"]){super(),this.head=e,this.box=t,t.classList.add("calendar-box"),this.box.innerHTML='<div class="calendar-dashboard"><sapn class="tittle"><span class="month"></span> de<span class="year"></span></sapn><div class="select"><a class="prev"><i class="bx bx-chevron-left"></i></a><a class="next"><i class="bx bx-chevron-right"</i></a></div></div><table class="calendar-table"></table>',this.month=t.querySelector(".month"),this.year=t.querySelector(".year"),this.prev=t.querySelector(".prev"),this.next=t.querySelector(".next"),this.table=t.querySelector(".calendar-table"),this.table.innerHTML="<thead></thead><tbody></tbody>",this.thead=this.table.querySelector("thead"),this.tbody=this.table.querySelector("tbody"),this.today=new Date,this.#b=this.today.getDate(),this.#d=this.#f=this.today.getMonth()+1,this.#c=this.#e=this.today.getFullYear(),this.#h(),this.#i();let s=t=>{this.#f--,0==this.#f&&(this.#e--,this.#f=12),t&&this.emit("prev",{year:this.#e,mounth:this.#f}),this.#i()};this.prev.addEventListener("click",s);let a=t=>{this.#f++,13==this.#f&&(this.#e++,this.#f=1),t&&this.emit("next",{year:this.#e,mounth:this.#f}),this.#i()};this.next.addEventListener("click",a),this.tbody.addEventListener("click",t=>{let e=t.target;if(e?.nodeName!="TD")return;this.#g[0]?.classList?.remove("select"),this.#g[0]=e;let r=e.dataTime;return(this.#g[1]=r,e.classList.add("select"),this.emit("click",{cell:e,date:e.dataDate}),e.dataset?.y==0&&e.classList.contains("out"))?s(!1):e.dataset?.y==5&&e.classList.contains("out")?a(!1):void 0})}setDate(t){let e=t instanceof Date?t:new Date(t);this.#f=e.getMonth()+1,this.#e=e.getFullYear(),this.#g[1]=`${this.#e}/${this.#f}/${e.getDate()}`,this.#i()}#h(){let s="<tr>";this.head.forEach((t,e)=>{s+=`<th>${t}</t>`}),s+="</tr>",this.thead.innerHTML=s;for(let a=0;a<6;a++){let r=document.createElement("tr"),n=[];for(let i=0;i<7;i++){let h=document.createElement("td");h.setAttribute("data-y",a),n.push(h)}r.append(...n),this.matriz.push(n),this.tbody.append(r)}}#i(){let o=new Date(`${this.#e}/${this.#f}/1`),l=o.getDay();l=0==l?7:l;let c=new Date(o-864e5*(l-1)).getTime();this.month.textContent=this.optionMonth[this.#f-1],this.year.textContent=this.#e;for(let d=0;d<6;d++){let u=[];for(let b=0;b<7;b++){let y=this.matriz[d][b];y.classList.remove("now","out","select");let m=7*d+b,M=y.dataDate=new Date(c+864e5*m),p=y.textContent=M.getDate(),f=M.getMonth()+1,v=y.dataTime=`${this.#e}/${f}/${p}`;v==`${this.#c}/${this.#d}/${this.#b}`?y.classList.add("now"):f!=this.#f&&y.classList.add("out"),this.#g[1]==v&&(this.#g[0]=y,y.classList.add("select"))}this.data[d]=u}}}window.Calendar=e})();